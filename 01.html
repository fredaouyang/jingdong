<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style>
#banner{
	width: 640px;
	margin: 0 auto;
	overflow: hidden;
}
	#banner ul{
	width: 1000%;
	/*transform:translateX(-10%);*/
}
#banner ul li{
	list-style: none;
	float: left;
}
#banner ul li{
	width: 10%;
}
#banner ul li img{
width: 100%;
display:block;
}
</style>
<body>
	<section class="banner">
		<section id="banner" class="clearfix">
	         <ul>	            
	         	<li><img src="images/l1.jpg" alt=""></li>
	         	<li><img src="images/l2.jpg" alt=""></li>
	         	<li><img src="images/l3.jpg" alt=""></li>
	         	<li><img src="images/l4.jpg" alt=""></li>
	         	<li><img src="images/l1.jpg" alt=""></li>
	         	
	         </ul>
	         <ul>
	     	 	<li class="active"></li>
	     	 	<li></li>
	     	 	<li></li>
	     	 	<li></li>
	     	 	<li></li>
	     	 	<li></li>
	     	 	<li></li>
	     	 	<li></li>
	     	 </ul>
	</section>
	<script>
	window.onload=function(){
    scrollPic();
	}
	var scrollPic=function(){
	var banner=document.getElementById('banner');
	var imagesUl=banner.getElementsByTagName('ul')[0];
	var dotUl=banner.getElementsByTagName('ul')[1];
	//获得图片项
	var imagesLis=imagesUl.getElementsByTagName('li');
	//获得点项
	var dotLis=dotUl.getElementsByTagName('li');
	var index=1;
	var bannerWidth=banner.offsetWidth;
    //加上过渡效果
    var addTransition=function(){
    	imagesUl.style.transition="all .3s ease";
    	//imagesUl.style.webkitTransition="all .3s ease";

    }
    //移除过渡效果
    var removeTransition=function(){
    	imagesUl.style.transition="none";
    	imagesUl.style.webkitTransition="none";

    }
    //加上位移效果
    var addTransform=function(t){
    	imagesUl.style.transform="translateX("+t+"px)";

    }
    //移除位移效果
    //加上下面的点根据轮播图的移动变化效果
    var addDotClass=function(i){
    	console.log(dotLis[i]);
    	dotLis[i].setAttribute("class","active");    	
    }  
    //轮播图自动播放效果
    var timer=setInterval(function(){
    	//清除之前轮播图片的原点效果  	   
    	//给当前轮播的图片加上对应的原点效果
    	
    	index++;
    	addTransition(index);   	
    	addTransform(-index*bannerWidth); 
    	addDotClass(index);
    	
    	   	
    },2000);
    //当每张图片过渡效果结束时
     imagesUl.addEventListener("transitionEnd",function(){
     	//若图片到了最后一张，最后一张跟第二张是一样的图片
     	    if(index>=9){
     	    	index=0;
     	    	
     	    }
     	    //或者图片到了第一张，第一张跟第八张是一样的图片
     	    else if(index<=0)
     	    {
     	    	index=8;

     	    }
     	    //移除最后一张到第一张的过渡效果，实现无缝滚动
     	    removeTransition();
     	    addTransform(-index*bannerWidth); 
        },false);
     imagesUl.addEventListener("webkitTransitionEnd",function(){
     	if(index>=9){
     	    	index=1;   
     	    }
     	    else if(index<=0)
     	    {
     	    	index=8;   	    	
     	    }
     	    removeTransition();
         	addTransform(-index*bannerWidth);  
        	
        },false);
     imagesUl.addEventListener("mouseover",function(){
     	
     })
}
	</script>
</body>
</html>